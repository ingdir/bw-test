/*!
 * QUnit 1.17.1
 * http://qunitjs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-01-20T19:39Z
 */

/*
 * Javascript Diff Algorithm
 *  By John Resig (http://ejohn.org/)
 *  Modified by Chu Alan "sprite"
 *
 * Released under the MIT license.
 *
 * More Info:
 *  http://ejohn.org/projects/javascript-diff-algorithm/
 *
 * Usage: QUnit.diff(expected, actual)
 *
 * QUnit.diff( "the quick brown fox jumped over", "the quick fox jumps over" ) == "the  quick <del>brown </del> fox <del>jumped </del><ins>jumps </ins> over"
 */

(function(e){function g(){var e,t;n.autorun=!0,n.previousModule&&A("moduleDone",{name:n.previousModule.name,tests:n.previousModule.tests,failed:n.moduleStats.bad,passed:n.moduleStats.all-n.moduleStats.bad,total:n.moduleStats.all,runtime:f()-n.moduleStats.started}),delete n.previousModule,e=f()-n.started,t=n.stats.all-n.stats.bad,A("done",{failed:n.stats.bad,passed:t,total:n.stats.all,runtime:e})}function y(e,t){t=t===undefined?4:t;var n,r,i;if(e.stacktrace)return e.stacktrace.split("\n")[t+3];if(e.stack){n=e.stack.split("\n"),/^error$/i.test(n[0])&&n.shift();if(s){r=[];for(i=t;i<n.length;i++){if(n[i].indexOf(s)!==-1)break;r.push(n[i])}if(r.length)return r.join("\n")}return n[t]}if(e.sourceURL){if(/qunit.js$/.test(e.sourceURL))return;return e.sourceURL+":"+e.line}}function b(e){var t=new Error;if(!t.stack)try{throw t}catch(n){t=n}return y(t,e)}function w(e,r){if(t.objectType(e)==="array"){while(e.length)w(e.shift());return}n.queue.push(e),n.autorun&&!n.blocking&&E(r)}function E(e){function t(){E(e)}var r=f();n.depth=(n.depth||0)+1;while(n.queue.length&&!n.blocking){if(!(!d.setTimeout||n.updateRate<=0||f()-r<n.updateRate)){h(t,13);break}n.current&&(n.current.usedAsync=!1),n.queue.shift()()}n.depth--,e&&!n.blocking&&!n.queue.length&&n.depth===0&&g()}function S(){var e,t,r=[];if(!n.started){n.started=f(),O(),n.modules[0].name===""&&n.modules[0].tests.length===0&&n.modules.shift();for(e=0,t=n.modules.length;e<t;e++)r.push({name:n.modules[e].name,tests:n.modules[e].tests});A("begin",{totalTests:_.count,modules:r})}n.blocking=!1,E(!0)}function x(){c=!0,d.setTimeout?h(function(){if(n.current&&n.current.semaphore>0)return;n.timeout&&p(n.timeout),S()},13):S()}function T(){n.blocking=!0,n.testTimeout&&d.setTimeout&&(p(n.timeout),n.timeout=h(function(){if(!n.current)throw new Error("Test timed out");n.current.semaphore=0,t.pushFailure("Test timed out",b(2)),x()},n.testTimeout))}function N(){n.pollution=[];if(n.noglobals)for(var t in e)if(u.call(e,t)){if(/^qunit-test-output/.test(t))continue;n.pollution.push(t)}}function C(){var e,r,i=n.pollution;N(),e=k(n.pollution,i),e.length>0&&t.pushFailure("Introduced global variable(s): "+e.join(", ")),r=k(i,n.pollution),r.length>0&&t.pushFailure("Deleted global variable(s): "+r.join(", "))}function k(e,t){var n,r,i=e.slice();for(n=0;n<i.length;n++)for(r=0;r<t.length;r++)if(i[n]===t[r]){i.splice(n,1),n--;break}return i}function L(t,n,r){for(var i in n)if(u.call(n,i))if(i!=="constructor"||t!==e)if(n[i]===undefined)delete t[i];else if(!r||typeof t[i]=="undefined")t[i]=n[i];return t}function A(e,t){var r,i,s;s=n.callbacks[e];for(r=0,i=s.length;r<i;r++)s[r](t)}function O(){var n,r;for(n in i)t[n]!==i[n]&&(r=t[n],t[n]=i[n],t[n](r),e.console&&e.console.warn&&e.console.warn("QUnit."+n+" was replaced with a new value.\n"+"Please, check out the documentation on how to apply logging callbacks.\n"+"Reference: http://api.qunitjs.com/category/callbacks/"))}function M(e,t){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function _(e){var t,r;++_.count,L(this,e),this.assertions=[],this.semaphore=0,this.usedAsync=!1,this.module=n.currentModule,this.stack=b(3);for(t=0,r=this.module.tests;t<r.length;t++)this.module.tests[t].name===this.testName&&(this.testName+=" ");this.testId=D(this.module.name,this.testName),this.module.tests.push({name:this.testName,testId:this.testId}),e.skip?(this.callback=function(){},this.async=!1,this.expected=0):this.assert=new P(this)}function D(e,t){var n,r=0,i=0,s=e+""+t,o=s.length;for(;r<o;r++)i=(i<<5)-i+s.charCodeAt(r),i|=0;return n=(4294967296+i).toString(16),n.length<8&&(n="0000000"+n),n.slice(-8)}function P(e){this.test=e}var t,n,r,i={},s=(b(0)||"").replace(/(:\d+)+\)?/,"").replace(/.+\//,""),o=Object.prototype.toString,u=Object.prototype.hasOwnProperty,a=e.Date,f=a.now||function(){return(new a).getTime()},l=!1,c=!1,h=e.setTimeout,p=e.clearTimeout,d={document:e.document!==undefined,setTimeout:e.setTimeout!==undefined,sessionStorage:function(){var e="qunit-test-string";try{return sessionStorage.setItem(e,e),sessionStorage.removeItem(e),!0}catch(t){return!1}}()},v=function(e){var t,n,r=e.toString();return r.substring(0,7)==="[object"?(t=e.name?e.name.toString():"Error",n=e.message?e.message.toString():"",t&&n?t+": "+n:t?t:n?n:"Error"):r},m=function(e){var n,r,i=t.is("array",e)?[]:{};for(n in e)u.call(e,n)&&(r=e[n],i[n]=r===Object(r)?m(r):r);return i};t={},n={queue:[],blocking:!0,reorder:!0,altertitle:!0,scrolltop:!0,requireExpects:!1,urlConfig:[{id:"hidepassed",label:"Hide passed tests",tooltip:"Only show tests and assertions that fail. Stored as query-strings."},{id:"noglobals",label:"Check for Globals",tooltip:"Enabling this will test if any test introduces new properties on the `window` object. Stored as query-strings."},{id:"notrycatch",label:"No try-catch",tooltip:"Enabling this will run tests outside of a try-catch block. Makes debugging exceptions in IE reasonable. Stored as query-strings."}],modules:[],currentModule:{name:"",tests:[]},callbacks:{}},n.modules.push(n.currentModule),function(){var r,i,s=e.location||{search:"",protocol:"file:"},o=s.search.slice(1).split("&"),u=o.length,a={};if(o[0])for(r=0;r<u;r++)i=o[r].split("="),i[0]=decodeURIComponent(i[0]),i[1]=i[1]?decodeURIComponent(i[1]):!0,a[i[0]]?a[i[0]]=[].concat(a[i[0]],i[1]):a[i[0]]=i[1];a.filter===!0&&delete a.filter,t.urlParams=a,n.filter=a.filter,n.testId=[];if(a.testId){a.testId=[].concat(a.testId);for(r=0;r<a.testId.length;r++)n.testId.push(a.testId[r])}t.isLocal=s.protocol==="file:"}(),L(t,{module:function(e,t){var r={name:e,testEnvironment:t,tests:[]};t&&t.setup&&(t.beforeEach=t.setup,delete t.setup),t&&t.teardown&&(t.afterEach=t.teardown,delete t.teardown),n.modules.push(r),n.currentModule=r},asyncTest:function(e,n,r){arguments.length===2&&(r=n,n=null),t.test(e,n,r,!0)},test:function(e,t,n,r){var i;arguments.length===2&&(n=t,t=null),i=new _({testName:e,expected:t,async:r,callback:n}),i.queue()},skip:function(e){var t=new _({testName:e,skip:!0});t.queue()},start:function(e){var r=l;if(!n.current){l=!0;if(c)throw new Error("Called start() outside of a test context while already started");if(r||e>1)throw new Error("Called start() outside of a test context too many times");if(n.autostart)throw new Error("Called start() outside of a test context when QUnit.config.autostart was true");if(!n.pageLoaded){n.autostart=!0;return}}else{n.current.semaphore-=e||1;if(n.current.semaphore>0)return;if(n.current.semaphore<0){n.current.semaphore=0,t.pushFailure("Called start() while already started (test's semaphore was 0 already)",b(2));return}}x()},stop:function(e){if(!n.current)throw new Error("Called stop() outside of a test context");n.current.semaphore+=e||1,T()},config:n,is:function(e,n){return t.objectType(n)===e},objectType:function(e){if(typeof e=="undefined")return"undefined";if(e===null)return"null";var t=o.call(e).match(/^\[object\s(.*)\]$/),n=t&&t[1]||"";switch(n){case"Number":if(isNaN(e))return"nan";return"number";case"String":case"Boolean":case"Array":case"Date":case"RegExp":case"Function":return n.toLowerCase()}return typeof e=="object"?"object":undefined},extend:L,load:function(){n.pageLoaded=!0,L(n,{stats:{all:0,bad:0},moduleStats:{all:0,bad:0},started:0,updateRate:1e3,autostart:!0,filter:""},!0),n.blocking=!1,n.autostart&&x()}}),function(){function u(e){var r=function(r){if(t.objectType(r)!=="function")throw new Error("QUnit logging methods require a callback function as their first parameters.");n.callbacks[e].push(r)};return i[e]=r,r}var e,r,s,o=["begin","done","log","testStart","testDone","moduleStart","moduleDone"];for(e=0,r=o.length;e<r;e++)s=o[e],t.objectType(n.callbacks[s])==="undefined"&&(n.callbacks[s]=[]),t[s]=u(s)}(),r=e.onerror,e.onerror=function(e,n,i){var s=!1;r&&(s=r(e,n,i));if(s!==!0){if(t.config.current){if(t.config.current.ignoreGlobalErrors)return!0;t.pushFailure(e,n+":"+i)}else t.test("global failure",L(function(){t.pushFailure(e,n+":"+i)},{validTest:!0}));return!1}return s},_.count=0,_.prototype={before:function(){if(this.module!==n.previousModule||!u.call(n,"previousModule"))u.call(n,"previousModule")&&A("moduleDone",{name:n.previousModule.name,tests:n.previousModule.tests,failed:n.moduleStats.bad,passed:n.moduleStats.all-n.moduleStats.bad,total:n.moduleStats.all,runtime:f()-n.moduleStats.started}),n.previousModule=this.module,n.moduleStats={all:0,bad:0,started:f()},A("moduleStart",{name:this.module.name,tests:this.module.tests});n.current=this,this.testEnvironment=L({},this.module.testEnvironment),delete this.testEnvironment.beforeEach,delete this.testEnvironment.afterEach,this.started=f(),A("testStart",{name:this.testName,module:this.module.name,testId:this.testId}),n.pollution||N()},run:function(){var e;n.current=this,this.async&&t.stop(),this.callbackStarted=f();if(n.notrycatch){e=this.callback.call(this.testEnvironment,this.assert),this.resolvePromise(e);return}try{e=this.callback.call(this.testEnvironment,this.assert),this.resolvePromise(e)}catch(r){this.pushFailure("Died on test #"+(this.assertions.length+1)+" "+this.stack+": "+(r.message||r),y(r,0)),N(),n.blocking&&t.start()}},after:function(){C()},queueHook:function(e,t){var r,i=this;return function(){n.current=i;if(n.notrycatch){r=e.call(i.testEnvironment,i.assert),i.resolvePromise(r,t);return}try{r=e.call(i.testEnvironment,i.assert),i.resolvePromise(r,t)}catch(o){i.pushFailure(t+" failed on "+i.testName+": "+(o.message||o),y(o,0))}}},hooks:function(e){var n=[];return this.skip?n:(this.module.testEnvironment&&t.objectType(this.module.testEnvironment[e])==="function"&&n.push(this.queueHook(this.module.testEnvironment[e],e)),n)},finish:function(){n.current=this,n.requireExpects&&this.expected===null?this.pushFailure("Expected number of assertions to be defined, but expect() was not called.",this.stack):this.expected!==null&&this.expected!==this.assertions.length?this.pushFailure("Expected "+this.expected+" assertions, but "+this.assertions.length+" were run",this.stack):this.expected===null&&!this.assertions.length&&this.pushFailure("Expected at least one assertion, but none were run - call expect(0) to accept zero assertions.",this.stack);var e,r=0;this.runtime=f()-this.started,n.stats.all+=this.assertions.length,n.moduleStats.all+=this.assertions.length;for(e=0;e<this.assertions.length;e++)this.assertions[e].result||(r++,n.stats.bad++,n.moduleStats.bad++);A("testDone",{name:this.testName,module:this.module.name,skipped:!!this.skip,failed:r,passed:this.assertions.length-r,total:this.assertions.length,runtime:this.runtime,assertions:this.assertions,testId:this.testId,duration:this.runtime}),t.reset(),n.current=undefined},queue:function(){function r(){w([function(){n.before()},n.hooks("beforeEach"),function(){n.run()},n.hooks("afterEach").reverse(),function(){n.after()},function(){n.finish()}])}var e,n=this;if(!this.valid())return;e=t.config.reorder&&d.sessionStorage&&+sessionStorage.getItem("qunit-test-"+this.module.name+"-"+this.testName),e?r():w(r,!0)},push:function(e,t,n,r){var i,s={module:this.module.name,name:this.testName,result:e,message:r,actual:t,expected:n,testId:this.testId,runtime:f()-this.started};e||(i=b(),i&&(s.source=i)),A("log",s),this.assertions.push({result:!!e,message:r})},pushFailure:function(e,t,n){if(!this instanceof _)throw new Error("pushFailure() assertion outside test context, was "+b(2));var r={module:this.module.name,name:this.testName,result:!1,message:e||"error",actual:n||null,testId:this.testId,runtime:f()-this.started};t&&(r.source=t),A("log",r),this.assertions.push({result:!1,message:e})},resolvePromise:function(e,n){var r,i,s=this;e!=null&&(r=e.then,t.objectType(r)==="function"&&(t.stop(),r.call(e,t.start,function(e){i="Promise rejected "+(n?n.replace(/Each$/,""):"during")+" "+s.testName+": "+(e.message||e),s.pushFailure(i,y(e,0)),N(),t.start()})))},valid:function(){var e,r=n.filter,i=t.urlParams.module&&t.urlParams.module.toLowerCase(),s=(this.module.name+": "+this.testName).toLowerCase();return this.callback&&this.callback.validTest?!0:n.testId.length>0&&M(this.testId,n.testId)<0?!1:i&&(!this.module.name||this.module.name.toLowerCase()!==i)?!1:r?(e=r.charAt(0)!=="!",e||(r=r.toLowerCase().slice(1)),s.indexOf(r)!==-1?e:!e):!0}},t.reset=function(){if(typeof e=="undefined")return;var t=d.document&&document.getElementById&&document.getElementById("qunit-fixture");t&&(t.innerHTML=n.fixture)},t.pushFailure=function(){if(!t.config.current)throw new Error("pushFailure() assertion outside test context, in "+b(2));var e=t.config.current;return e.pushFailure.apply(e,arguments)},t.assert=P.prototype={expect:function(e){if(arguments.length!==1)return this.test.expected;this.test.expected=e},async:function(){var e=this.test,t=!1;return e.semaphore+=1,e.usedAsync=!0,T(),function(){t?e.pushFailure("Called the callback returned from `assert.async` more than once",b(2)):(e.semaphore-=1,t=!0,x())}},push:function(){var e=this,n=e instanceof P&&e.test||t.config.current;if(!n)throw new Error("assertion outside test context, in "+b(2));return n.usedAsync===!0&&n.semaphore===0&&n.pushFailure("Assertion after the final `assert.async` was resolved",b(2)),e instanceof P||(e=n.assert),e.test.push.apply(e.test,arguments)},ok:function(e,n){n=n||(e?"okay":"failed, expected argument to be truthy, was: "+t.dump.parse(e)),this.push(!!e,e,!0,n)},equal:function(e,t,n){this.push(t==e,e,t,n)},notEqual:function(e,t,n){this.push(t!=e,e,t,n)},propEqual:function(e,n,r){e=m(e),n=m(n),this.push(t.equiv(e,n),e,n,r)},notPropEqual:function(e,n,r){e=m(e),n=m(n),this.push(!t.equiv(e,n),e,n,r)},deepEqual:function(e,n,r){this.push(t.equiv(e,n),e,n,r)},notDeepEqual:function(e,n,r){this.push(!t.equiv(e,n),e,n,r)},strictEqual:function(e,t,n){this.push(t===e,e,t,n)},notStrictEqual:function(e,t,n){this.push(t!==e,e,t,n)},"throws":function(e,n,r){var i,s,o=n,u=!1;r==null&&typeof n=="string"&&(r=n,n=null),this.test.ignoreGlobalErrors=!0;try{e.call(this.test.testEnvironment)}catch(a){i=a}this.test.ignoreGlobalErrors=!1,i?(s=t.objectType(n),n?s==="regexp"?u=n.test(v(i)):s==="string"?u=n===v(i):s==="function"&&i instanceof n?u=!0:s==="object"?u=i instanceof n.constructor&&i.name===n.name&&i.message===n.message:s==="function"&&n.call({},i)===!0&&(o=null,u=!0):(u=!0,o=null),this.push(u,i,o,r)):this.test.pushFailure(r,null,"No exception was thrown.")}},function(){P.prototype.raises=P.prototype["throws"]}(),t.equiv=function(){function e(e,n,r){var i=t.objectType(e);if(i)return t.objectType(n[i])==="function"?n[i].apply(n,r):n[i]}var n,r=[],i=[],s=[],o=Object.getPrototypeOf||function(e){return e.__proto__},u=function(){function e(e,t){return e instanceof t.constructor||t instanceof e.constructor?t==e:t===e}return{string:e,"boolean":e,number:e,"null":e,"undefined":e,nan:function(e){return isNaN(e)},date:function(e,n){return t.objectType(e)==="date"&&n.valueOf()===e.valueOf()},regexp:function(e,n){return t.objectType(e)==="regexp"&&n.source===e.source&&n.global===e.global&&n.ignoreCase===e.ignoreCase&&n.multiline===e.multiline&&n.sticky===e.sticky},"function":function(){var e=r[r.length-1];return e!==Object&&typeof e!="undefined"},array:function(e,r){var o,u,a,f,l,c;if(t.objectType(e)!=="array")return!1;a=r.length;if(a!==e.length)return!1;i.push(r),s.push(e);for(o=0;o<a;o++){f=!1;for(u=0;u<i.length;u++){l=i[u]===r[o],c=s[u]===e[o];if(l||c){if(!(r[o]===e[o]||l&&c))return i.pop(),s.pop(),!1;f=!0}}if(!f&&!n(r[o],e[o]))return i.pop(),s.pop(),!1}return i.pop(),s.pop(),!0},object:function(e,t){var u,a,f,l,c,h=!0,p=[],d=[];if(t.constructor===e.constructor||o(t)===null&&o(e)===Object.prototype||o(e)===null&&o(t)===Object.prototype){r.push(t.constructor),i.push(t),s.push(e);for(u in t){f=!1;for(a=0;a<i.length;a++){l=i[a]===t[u],c=s[a]===e[u];if(l||c){if(!(t[u]===e[u]||l&&c)){h=!1;break}f=!0}}p.push(u);if(!f&&!n(t[u],e[u])){h=!1;break}}i.pop(),s.pop(),r.pop();for(u in e)d.push(u);return h&&n(p.sort(),d.sort())}return!1}}}();return n=function(){var r=[].slice.apply(arguments);return r.length<2?!0:function(n,r){return n===r?!0:n===null||r===null||typeof n=="undefined"||typeof r=="undefined"||t.objectType(n)!==t.objectType(r)?!1:e(n,u,[r,n])}(r[0],r[1])&&n.apply(this,r.splice(1,r.length-1))},n}(),t.dump=function(){function e(e){return'"'+e.toString().replace(/"/g,'\\"')+'"'}function n(e){return e+""}function r(e,t,n){var r=u.separator(),i=u.indent(),s=u.indent(1);return t.join&&(t=t.join(","+r+s)),t?[e,s+t,i+n].join(r):e+n}function i(e,t){var n=e.length,i=new Array(n);if(u.maxDepth&&u.depth>u.maxDepth)return"[object Array]";this.up();while(n--)i[n]=this.parse(e[n],undefined,t);return this.down(),r("[",i,"]")}var s=/^function (\w+)/,u={parse:function(e,t,n){n=n||[];var r,i,s,o=M(e,n);return o!==-1?"recursion("+(o-n.length)+")":(t=t||this.typeOf(e),i=this.parsers[t],s=typeof i,s==="function"?(n.push(e),r=i.call(this,e,n),n.pop(),r):s==="string"?i:this.parsers.error)},typeOf:function(e){var n;return e===null?n="null":typeof e=="undefined"?n="undefined":t.is("regexp",e)?n="regexp":t.is("date",e)?n="date":t.is("function",e)?n="function":e.setInterval!==undefined&&e.document!==undefined&&e.nodeType===undefined?n="window":e.nodeType===9?n="document":e.nodeType?n="node":o.call(e)==="[object Array]"||typeof e.length=="number"&&e.item!==undefined&&(e.length?e.item(0)===e[0]:e.item(0)===null&&e[0]===undefined)?n="array":e.constructor===Error.prototype.constructor?n="error":n=typeof e,n},separator:function(){return this.multiline?this.HTML?"<br />":"\n":this.HTML?"&#160;":" "},indent:function(e){if(!this.multiline)return"";var t=this.indentChar;return this.HTML&&(t=t.replace(/\t/g,"   ").replace(/ /g,"&#160;")),(new Array(this.depth+(e||0))).join(t)},up:function(e){this.depth+=e||1},down:function(e){this.depth-=e||1},setParser:function(e,t){this.parsers[e]=t},quote:e,literal:n,join:r,depth:1,maxDepth:5,parsers:{window:"[Window]",document:"[Document]",error:function(e){return'Error("'+e.message+'")'},unknown:"[Unknown]","null":"null","undefined":"undefined","function":function(e){var t="function",n="name"in e?e.name:(s.exec(e)||[])[1];return n&&(t+=" "+n),t+="( ",t=[t,u.parse(e,"functionArgs"),"){"].join(""),r(t,u.parse(e,"functionCode"),"}")},array:i,nodelist:i,arguments:i,object:function(e,t){var n,i,s,o,a,f=[];if(u.maxDepth&&u.depth>u.maxDepth)return"[object Object]";u.up(),n=[];for(i in e)n.push(i);a=["message","name"];for(o in a)i=a[o],i in e&&!(i in n)&&n.push(i);n.sort();for(o=0;o<n.length;o++)i=n[o],s=e[i],f.push(u.parse(i,"key")+": "+u.parse(s,undefined,t));return u.down(),r("{",f,"}")},node:function(e){var t,n,r,i=u.HTML?"&lt;":"<",s=u.HTML?"&gt;":">",o=e.nodeName.toLowerCase(),a=i+o,f=e.attributes;if(f)for(n=0,t=f.length;n<t;n++)r=f[n].nodeValue,r&&r!=="inherit"&&(a+=" "+f[n].nodeName+"="+u.parse(r,"attribute"));a+=s;if(e.nodeType===3||e.nodeType===4)a+=e.nodeValue;return a+i+"/"+o+s},functionArgs:function(e){var t,n=e.length;if(!n)return"";t=new Array(n);while(n--)t[n]=String.fromCharCode(97+n);return" "+t.join(", ")+" "},key:e,functionCode:"[code]",attribute:e,string:e,date:e,regexp:n,number:n,"boolean":n},HTML:!1,indentChar:"  ",multiline:!0};return u}(),t.jsDump=t.dump,typeof e!="undefined"&&(function(){function r(e){return function(){var n=new P(t.config.current);e.apply(n,arguments)}}var e,n=P.prototype;for(e in n)t[e]=r(n[e])}(),function(){var n,r,i=["test","module","expect","asyncTest","start","stop","ok","equal","notEqual","propEqual","notPropEqual","deepEqual","notDeepEqual","strictEqual","notStrictEqual","throws"];for(n=0,r=i.length;n<r;n++)e[i[n]]=t[i[n]]}(),e.QUnit=t),typeof module!="undefined"&&module&&module.exports&&(module.exports=t,module.exports.QUnit=t),typeof exports!="undefined"&&exports&&(exports.QUnit=t)})(function(){return this}()),QUnit.diff=function(){function t(t,n){var r,i={},s={};for(r=0;r<n.length;r++)e.call(i,n[r])||(i[n[r]]={rows:[],o:null}),i[n[r]].rows.push(r);for(r=0;r<t.length;r++)e.call(s,t[r])||(s[t[r]]={rows:[],n:null}),s[t[r]].rows.push(r);for(r in i)e.call(i,r)&&i[r].rows.length===1&&e.call(s,r)&&s[r].rows.length===1&&(n[i[r].rows[0]]={text:n[i[r].rows[0]],row:s[r].rows[0]},t[s[r].rows[0]]={text:t[s[r].rows[0]],row:i[r].rows[0]});for(r=0;r<n.length-1;r++)n[r].text!=null&&n[r+1].text==null&&n[r].row+1<t.length&&t[n[r].row+1].text==null&&n[r+1]==t[n[r].row+1]&&(n[r+1]={text:n[r+1],row:n[r].row+1},t[n[r].row+1]={text:t[n[r].row+1],row:r+1});for(r=n.length-1;r>0;r--)n[r].text!=null&&n[r-1].text==null&&n[r].row>0&&t[n[r].row-1].text==null&&n[r-1]==t[n[r].row-1]&&(n[r-1]={text:n[r-1],row:n[r].row-1},t[n[r].row-1]={text:t[n[r].row-1],row:r-1});return{o:t,n:n}}var e=Object.prototype.hasOwnProperty;return function(e,n){e=e.replace(/\s+$/,""),n=n.replace(/\s+$/,"");var r,i,s="",o=t(e===""?[]:e.split(/\s+/),n===""?[]:n.split(/\s+/)),u=e.match(/\s+/g),a=n.match(/\s+/g);u==null?u=[" "]:u.push(" "),a==null?a=[" "]:a.push(" ");if(o.n.length===0)for(r=0;r<o.o.length;r++)s+="<del>"+o.o[r]+u[r]+"</del>";else{if(o.n[0].text==null)for(n=0;n<o.o.length&&o.o[n].text==null;n++)s+="<del>"+o.o[n]+u[n]+"</del>";for(r=0;r<o.n.length;r++)if(o.n[r].text==null)s+="<ins>"+o.n[r]+a[r]+"</ins>";else{i="";for(n=o.n[r].row+1;n<o.o.length&&o.o[n].text==null;n++)i+="<del>"+o.o[n]+u[n]+"</del>";s+=" "+o.n[r].text+a[r]+i}}return s}}(),function(){function i(e){return e?(e+="",e.replace(/['"<>&]/g,function(e){switch(e){case"'":return"&#039;";case'"':return"&quot;";case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;"}})):""}function s(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)}function o(e,t,n){var r=e.length;while(r--)s(e[r],t,n)}function u(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")>=0}function a(e,t){u(e,t)||(e.className+=(e.className?" ":"")+t)}function f(e,t){u(e,t)?l(e,t):a(e,t)}function l(e,t){var n=" "+e.className+" ";while(n.indexOf(" "+t+" ")>=0)n=n.replace(" "+t+" "," ");e.className=typeof n.trim=="function"?n.trim():n.replace(/^\s+|\s+$/g,"")}function c(e){return n.document&&document.getElementById&&document.getElementById(e)}function h(){var n,r,s,o,u,a=!1,f=e.urlConfig.length,l="";for(n=0;n<f;n++){s=e.urlConfig[n],typeof s=="string"&&(s={id:s,label:s}),o=i(s.id),u=i(s.tooltip),e[s.id]===undefined&&(e[s.id]=QUnit.urlParams[s.id]);if(!s.value||typeof s.value=="string")l+="<input id='qunit-urlconfig-"+o+"' name='"+o+"' type='checkbox'"+(s.value?" value='"+i(s.value)+"'":"")+(e[s.id]?" checked='checked'":"")+" title='"+u+"' /><label for='qunit-urlconfig-"+o+"' title='"+u+"'>"+s.label+"</label>";else{l+="<label for='qunit-urlconfig-"+o+"' title='"+u+"'>"+s.label+": </label><select id='qunit-urlconfig-"+o+"' name='"+o+"' title='"+u+"'><option></option>";if(QUnit.is("array",s.value))for(r=0;r<s.value.length;r++)o=i(s.value[r]),l+="<option value='"+o+"'"+(e[s.id]===s.value[r]?(a=!0)&&" selected='selected'":"")+">"+o+"</option>";else for(r in s.value)t.call(s.value,r)&&(l+="<option value='"+i(r)+"'"+(e[s.id]===r?(a=!0)&&" selected='selected'":"")+">"+i(s.value[r])+"</option>");e[s.id]&&!a&&(o=i(e[s.id]),l+="<option value='"+o+"' selected='selected' disabled='disabled'>"+o+"</option>"),l+="</select>"}}return l}function p(){var t,n,r=this,i={};"selectedIndex"in r?n=r.options[r.selectedIndex].value||undefined:n=r.checked?r.defaultValue||!0:undefined,i[r.name]=n,t=d(i),"hidepassed"===r.name&&"replaceState"in window.history?(e[r.name]=n||!1,n?a(c("qunit-tests"),"hidepass"):l(c("qunit-tests"),"hidepass"),window.history.replaceState(null,"",t)):window.location=t}function d(e){var n,r="?";e=QUnit.extend(QUnit.extend({},QUnit.urlParams),e);for(n in e)if(t.call(e,n)){if(e[n]===undefined)continue;r+=encodeURIComponent(n),e[n]!==!0&&(r+="="+encodeURIComponent(e[n])),r+="&"}return location.protocol+"//"+location.host+location.pathname+r.slice(0,-1)}function v(){var e=c("qunit-modulefilter"),t=decodeURIComponent(e.options[e.selectedIndex].value),n=c("qunit-filter-input").value;window.location=d({module:t===""?undefined:t,filter:n===""?undefined:n,testId:undefined})}function m(){var e=document.createElement("span");return e.innerHTML=h(),a(e,"qunit-url-config"),o(e.getElementsByTagName("input"),"click",p),o(e.getElementsByTagName("select"),"change",p),e}function g(){var t=document.createElement("form"),n=document.createElement("label"),r=document.createElement("input"),i=document.createElement("button");return a(t,"qunit-filter"),n.innerHTML="Filter: ",r.type="text",r.value=e.filter||"",r.name="filter",r.id="qunit-filter-input",i.innerHTML="Go",n.appendChild(r),t.appendChild(n),t.appendChild(i),s(t,"submit",function(e){return v(),e&&e.preventDefault&&e.preventDefault(),!1}),t}function y(){var e,t="";if(!r.length)return!1;r.sort(function(e,t){return e.localeCompare(t)}),t+="<label for='qunit-modulefilter'>Module: </label><select id='qunit-modulefilter' name='modulefilter'><option value='' "+(QUnit.urlParams.module===undefined?"selected='selected'":"")+">< All Modules ></option>";for(e=0;e<r.length;e++)t+="<option value='"+i(encodeURIComponent(r[e]))+"' "+(QUnit.urlParams.module===r[e]?"selected='selected'":"")+">"+i(r[e])+"</option>";return t+="</select>",t}function b(){var e=c("qunit-testrunner-toolbar"),t=document.createElement("span"),n=y();if(!e||!n)return!1;t.setAttribute("id","qunit-modulefilter-container"),t.innerHTML=n,s(t.lastChild,"change",v),e.appendChild(t)}function w(){var e=c("qunit-testrunner-toolbar");e&&(e.appendChild(m()),e.appendChild(g()))}function E(){var e=c("qunit-header");e&&(e.innerHTML="<a href='"+d({filter:undefined,module:undefined,testId:undefined})+"'>"+e.innerHTML+"</a> ")}function S(){var e=c("qunit-banner");e&&(e.className="")}function x(){var e=c("qunit-tests"),t=c("qunit-testresult");t&&t.parentNode.removeChild(t),e&&(e.innerHTML="",t=document.createElement("p"),t.id="qunit-testresult",t.className="result",e.parentNode.insertBefore(t,e),t.innerHTML="Running...<br />&#160;")}function T(){var t=c("qunit-fixture");t&&(e.fixture=t.innerHTML)}function N(){var e=c("qunit-userAgent");e&&(e.innerHTML="",e.appendChild(document.createTextNode(navigator.userAgent)))}function C(e){var t,n,i,s,o,u;for(t=0,n=e.length;t<n;t++){u=e[t],u.name&&r.push(u.name);for(i=0,s=u.tests.length;i<s;i++)o=u.tests[i],k(o.name,o.testId,u.name)}}function k(e,t,n){var r,i,s,o,u=c("qunit-tests");if(!u)return;r=document.createElement("strong"),r.innerHTML=L(e,n),i=document.createElement("a"),i.innerHTML="Rerun",i.href=d({testId:t}),s=document.createElement("li"),s.appendChild(r),s.appendChild(i),s.id="qunit-test-output-"+t,o=document.createElement("ol"),o.className="qunit-assert-list",s.appendChild(o),u.appendChild(s)}function L(e,t){var n="";return t&&(n="<span class='module-name'>"+i(t)+"</span>: "),n+="<span class='test-name'>"+i(e)+"</span>",n}QUnit.init=function(){var e,t,n,r,s=QUnit.config;s.stats={all:0,bad:0},s.moduleStats={all:0,bad:0},s.started=0,s.updateRate=1e3,s.blocking=!1,s.autostart=!0,s.autorun=!1,s.filter="",s.queue=[];if(typeof window=="undefined")return;r=c("qunit"),r&&(r.innerHTML="<h1 id='qunit-header'>"+i(document.title)+"</h1>"+"<h2 id='qunit-banner'></h2>"+"<div id='qunit-testrunner-toolbar'></div>"+"<h2 id='qunit-userAgent'></h2>"+"<ol id='qunit-tests'></ol>"),e=c("qunit-tests"),t=c("qunit-banner"),n=c("qunit-testresult"),e&&(e.innerHTML=""),t&&(t.className=""),n&&n.parentNode.removeChild(n),e&&(n=document.createElement("p"),n.id="qunit-testresult",n.className="result",e.parentNode.insertBefore(n,e),n.innerHTML="Running...<br />&#160;")};if(typeof window=="undefined")return;var e=QUnit.config,t=Object.prototype.hasOwnProperty,n={document:window.document!==undefined,sessionStorage:function(){var e="qunit-test-string";try{return sessionStorage.setItem(e,e),sessionStorage.removeItem(e),!0}catch(t){return!1}}()},r=[];QUnit.begin(function(t){var n=c("qunit");T(),n&&(n.innerHTML="<h1 id='qunit-header'>"+i(document.title)+"</h1>"+"<h2 id='qunit-banner'></h2>"+"<div id='qunit-testrunner-toolbar'></div>"+"<h2 id='qunit-userAgent'></h2>"+"<ol id='qunit-tests'></ol>"),E(),S(),x(),N(),w(),C(t.modules),b(),n&&e.hidepassed&&a(n.lastChild,"hidepass")}),QUnit.done(function(t){var r,i,s=c("qunit-banner"),o=c("qunit-tests"),u=["Tests completed in ",t.runtime," milliseconds.<br />","<span class='passed'>",t.passed,"</span> assertions of <span class='total'>",t.total,"</span> passed, <span class='failed'>",t.failed,"</span> failed."].join("");s&&(s.className=t.failed?"qunit-fail":"qunit-pass"),o&&(c("qunit-testresult").innerHTML=u),e.altertitle&&n.document&&document.title&&(document.title=[t.failed?"✖":"✔",document.title.replace(/^[\u2714\u2716] /i,"")].join(" "));if(e.reorder&&n.sessionStorage&&t.failed===0)for(r=0;r<sessionStorage.length;r++)i=sessionStorage.key(r++),i.indexOf("qunit-test-")===0&&sessionStorage.removeItem(i);e.scrolltop&&window.scrollTo&&window.scrollTo(0,0)}),QUnit.testStart(function(e){var t,n;n=c("qunit-test-output-"+e.testId),n?n.className="running":k(e.name,e.testId,e.module),t=c("qunit-testresult"),t&&(t.innerHTML="Running: <br />"+L(e.name,e.module))}),QUnit.log(function(e){var n,r,s,o,u,a=c("qunit-test-output-"+e.testId);if(!a)return;s=i(e.message)||(e.result?"okay":"failed"),s="<span class='test-message'>"+s+"</span>",s+="<span class='runtime'>@ "+e.runtime+" ms</span>",!e.result&&t.call(e,"expected")?(o=i(QUnit.dump.parse(e.expected)),u=i(QUnit.dump.parse(e.actual)),s+="<table><tr class='test-expected'><th>Expected: </th><td><pre>"+o+"</pre></td></tr>",u!==o&&(s+="<tr class='test-actual'><th>Result: </th><td><pre>"+u+"</pre></td></tr>"+"<tr class='test-diff'><th>Diff: </th><td><pre>"+QUnit.diff(o,u)+"</pre></td></tr>"),e.source&&(s+="<tr class='test-source'><th>Source: </th><td><pre>"+i(e.source)+"</pre></td></tr>"),s+="</table>"):!e.result&&e.source&&(s+="<table><tr class='test-source'><th>Source: </th><td><pre>"+i(e.source)+"</pre></td></tr>"+"</table>"),n=a.getElementsByTagName("ol")[0],r=document.createElement("li"),r.className=e.result?"pass":"fail",r.innerHTML=s,n.appendChild(r)}),QUnit.testDone(function(t){var r,i,o,u,l,h,p,d,v=c("qunit-tests");if(!v)return;o=c("qunit-test-output-"+t.testId),u=o.getElementsByTagName("ol")[0],l=t.passed,h=t.failed,e.reorder&&n.sessionStorage&&(h?sessionStorage.setItem("qunit-test-"+t.module+"-"+t.name,h):sessionStorage.removeItem("qunit-test-"+t.module+"-"+t.name)),h===0&&a(u,"qunit-collapsed"),r=o.firstChild,p=h?"<b class='failed'>"+h+"</b>, "+"<b class='passed'>"+l+"</b>, ":"",r.innerHTML+=" <b class='counts'>("+p+t.assertions.length+")</b>",t.skipped?(o.className="skipped",d=document.createElement("em"),d.className="qunit-skipped-label",d.innerHTML="skipped",o.insertBefore(d,r)):(s(r,"click",function(){f(u,"qunit-collapsed")}),o.className=h?"fail":"pass",i=document.createElement("span"),i.className="runtime",i.innerHTML=t.runtime+" ms",o.insertBefore(i,u))});if(!n.document||document.readyState==="complete")e.pageLoaded=!0,e.autorun=!0;n.document&&s(window,"load",QUnit.load)}();